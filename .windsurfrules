# VejaPRO Workspace Rules

## Always read first
- SYSTEM_CONTEXT.md
- PROJECT_CONTEXT.md
- backend/PROGRESS_LOCK.md (DONE neliesti, naujas eilutes tik gale)

## Environment
- Production VM: 10.10.50.178 (Ubuntu), user: administrator
- Repo path: /home/administrator/VejaPRO
- Backend: /home/administrator/VejaPRO/backend
- Service: systemd `vejapro.service`

## Safety
- NIEKADA necommitinti secrets (.env reiksmu, API raktu, JWT).
- Neredaguoti .env.prod be aiskaus user nurodymo.
- Admin endpointai apsaugoti IP allowlist + bearer token.

## Start/Restart
- `systemctl status vejapro`
- `systemctl restart vejapro`
- Logai: `journalctl -u vejapro -f`

## Deploy/Rollback
- Ziurek `SYSTEM_CONTEXT.md` (deploy, rollback, troubleshooting)

## UI vieta
- Admin/landing statiniai failai: backend/app/static

## Testai
- Unit testai:
  - `PYTHONPATH=backend python -m pytest backend/tests -q`
- API testai (reikia paleisto serverio) pagal `backend/README.md`.
- Staging testai: ziurek `PROJECT_CONTEXT.md`.

## Progress lock
- DONE eiluciu nekeisti.
- Nauji milestone irasai tik gale.
- Dokumentacijos pakeitimus uzfiksuoti `backend/PROGRESS_LOCK.md`.
